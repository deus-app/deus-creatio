(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9178)}])},9178:function(e,n,t){"use strict";t.r(n);var s=t(5893),a=t(8583),r=t(7294),i=t(5371),o=t(3376),l=t(2729),c=t.n(l);n.default=()=>{let[e]=(0,a.KO)(i.L),[n,t]=(0,r.useState)(!1),[l,d]=(0,r.useState)(""),[u,_]=(0,r.useState)(0),x=l.substring(0,u),m=(0,r.useRef)(null),[g,h]=(0,r.useState)({}),[v,p]=(0,r.useState)([]),[f,N]=(0,r.useState)(!1),b=(0,r.useCallback)(async()=>{if(!e){console.error("User is null or undefined!");return}let n=await o.x.dolan.$post({body:{id:e.id}});p(n)},[e]);(0,r.useEffect)(()=>{b();let e=setInterval(b,100);return()=>{clearInterval(e)}},[b]);let j=e=>{h(n=>({...n,[e]:!n[e]}))},k=async()=>{if(!e){console.error("User is null or undefined!");return}_(0),d("読み込み中..."),console.log("押した");let n=await o.x.langchain.$post({body:{id:e.id,values:g}});d(n.toString()),console.log(n)};return(0,r.useEffect)(()=>{let e=setInterval(()=>{u<l.length?(_(e=>e+1),m.current&&(m.current.scrollTop=m.current.scrollHeight)):clearInterval(e)},100);return()=>clearInterval(e)},[u,l]),(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("div",{className:c().conversationList,children:v.map((e,n)=>(0,s.jsxs)("div",{className:c().messageBox,children:[(0,s.jsx)("div",{style:{maxHeight:f?"none":"100px",overflow:"hidden"},children:e.message}),e.message.length>100&&!f&&(0,s.jsx)("button",{onClick:()=>N(!0),children:"read more"})]},n))}),(0,s.jsx)("div",{className:c().gridContainer,children:[...Array(8)].map((e,n)=>(0,s.jsx)("div",{className:c().gridItem,onClick:()=>j(n),children:g[n]?"TRUE":"FALSE"},n))}),(0,s.jsx)("button",{className:c().buttonAskDoraemon,onClick:k,children:"教えてドラえもん"}),(0,s.jsx)("div",{className:c().doraemonImage}),(0,s.jsx)("div",{ref:m,className:c().quote,children:x}),n&&(0,s.jsx)("div",{className:c().overlay,children:(0,s.jsxs)("div",{className:c().inputModal,children:[(0,s.jsx)("input",{type:"text",className:c().inputarea,placeholder:"ここに質問を入力"}),(0,s.jsx)("button",{className:c().closebutton,onClick:()=>t(!1),children:"閉じる"})]})})]})}},2729:function(e){e.exports={container:"index_container___q52_",conversationList:"index_conversationList__wZg0q",messageBox:"index_messageBox__pyWI4",gridContainer:"index_gridContainer__GN9wk",gridItem:"index_gridItem__v7Pnw",buttonAskDoraemon:"index_buttonAskDoraemon__kgcQS",doraemonImage:"index_doraemonImage__80TQJ",quote:"index_quote__3NMTm",overlay:"index_overlay__KG8_4",inputModal:"index_inputModal___TLdL",inputarea:"index_inputarea__FZHLB",closebutton:"index_closebutton__EhAu3"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);