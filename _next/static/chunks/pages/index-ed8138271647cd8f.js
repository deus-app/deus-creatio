(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8228)}])},3601:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var a=n(5893),s=n(7602),i=n(3739),o=n.n(i);let r=e=>e.visible?(0,a.jsx)(s.h,{children:(0,a.jsx)("div",{className:o().container,children:(0,a.jsx)("div",{className:o().loader})})}):null},7602:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var a=n(7294),s=n(3935);let i=e=>{let{children:t}=e,[n,i]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),i(e),()=>{document.body.removeChild(e)}},[]),n?s.createPortal(t,n):null}},5693:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var a=n(5893),s=n(5103),i=n(8583),o=n(7294),r=n(3601);let l=(0,s.cn)(0),c=(0,s.cn)(e=>e(l)>0),d=()=>{let[e,t]=(0,i.KO)(l),[n]=(0,i.KO)(c),s=(0,o.useCallback)(()=>t(e+1),[e,t]),d=(0,o.useCallback)(()=>t(e-1),[e,t]);return{loadingElm:(0,a.jsx)(r.g,{visible:n}),addLoading:s,removeLoading:d}}},8228:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var a=n(5893),s=n(7294),i=n(3601),o=n(9239),r=n(6154);let l=(e=>{let{baseURL:t,fetch:n}=e,a=(void 0===t?"":t).replace(/\/$/,""),s="/health",i="/jobs";return{health:{get:e=>n(a,s,"GET",e).json(),$get:e=>n(a,s,"GET",e).json().then(e=>e.body),$path:()=>"".concat(a).concat(s)},jobs:{get:e=>n(a,i,"GET",e).json(),$get:e=>n(a,i,"GET",e).json().then(e=>e.body),$path:()=>"".concat(a).concat(i)},get:e=>n(a,"","GET",e).text(),$get:e=>n(a,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(a)}})((0,o.Z)(r.Z.create({withCredentials:!0})));var c=n(3377),d=n(5770),u=n(2038),_=n.n(u);let x=()=>(0,a.jsx)("div",{className:_().container,children:(0,a.jsxs)("div",{className:_().main,children:[(0,a.jsx)("div",{className:_().logo,children:d.X}),(0,a.jsxs)("div",{className:_().result,children:[(0,a.jsx)("div",{children:"総資産 1,100,000円"}),(0,a.jsx)("div",{children:"原資 1,000,000円"}),(0,a.jsx)("div",{children:"損益 +10.0%"})]})]})}),h={themeFontColor:"var(--theme-font-color)",borderColor:"var(--border-color)",warning:"var(--warning)"};var m=n(7112),j=n.n(m);let v=e=>(0,a.jsx)("button",{className:j().button,style:!0===e.isDark?{background:"white",color:h.themeFontColor,width:e.width}:{background:"".concat(h.themeFontColor,"33"),borderColor:"white",color:"white",width:e.width},disabled:e.disabled,onClick:e.onClick,children:e.label});var b=n(7602);let f=e=>{let{axis:t,size:n}=e;return"x"===t?1:n},g=e=>{let{axis:t,size:n}=e;return"y"===t?1:n},N=e=>(0,a.jsx)("span",{style:{display:"".concat("x"===e.axis?"inline-":"","block"),width:"".concat(g(e),"px"),minWidth:"".concat(g(e),"px"),height:"".concat(f(e),"px"),minHeight:"".concat(f(e),"px")}});var p=n(1961),w=n.n(p);let k=e=>(0,a.jsx)("div",{className:w().modalHeader,style:{borderBottom:"1px solid ".concat(h.borderColor,"33")},children:e.text}),C=e=>(0,a.jsx)("div",{className:w().body,children:e.content}),y=e=>{var t;return(0,a.jsxs)("div",{className:w().footer,children:[void 0!==e.okText&&!0===e.disabledOk&&void 0!==e.disabledText&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:w().warning,style:{color:h.warning},children:e.disabledText}),(0,a.jsx)(N,{axis:"y",size:12})]}),void 0!==e.headerText&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:w().header,children:e.headerText}),(0,a.jsx)(N,{axis:"y",size:12})]}),e.cancel&&(0,a.jsx)(v,{label:null!==(t=e.cancelText)&&void 0!==t?t:"キャンセル",onClick:e.cancel}),void 0!==e.okText&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N,{axis:"x",size:16}),(0,a.jsx)(v,{label:e.okText,disabled:e.disabledOk,onClick:e.ok})]})]})},T=e=>(0,a.jsx)(b.h,{children:e.open&&(0,a.jsxs)("div",{className:w().container,children:[(0,a.jsx)("div",{className:w().background,onClick:e.onClose}),(0,a.jsx)("div",{className:w().card,children:e.children})]})});var L=n(6236),E=n.n(L);let B=e=>{var t;return(0,a.jsx)("textarea",{className:E().textarea,rows:e.rows,style:{width:null!==(t=e.width)&&void 0!==t?t:"100%"},value:e.value,onChange:t=>e.onChange(t.target.value)})};var F=n(5693),O=n(7484),S=n.n(O),H=n(6831),I=n.n(H);S().locale(I());let J=e=>S()(e).format("YY/MM/DD");var U=n(6328),$=n.n(U);let K=e=>{let{addLoading:t,removeLoading:n}=(0,F.r)(),[i,o]=(0,s.useState)(!1),[r,l]=(0,s.useState)(""),c=async()=>{t(),n(),o(!1)};return(0,a.jsxs)("div",{className:$().container,children:[(0,a.jsx)("div",{className:$().createBtn,children:(0,a.jsx)(v,{label:"ジョブ新規作成",width:"100%",onClick:()=>o(!0)})}),(0,a.jsx)("div",{style:{flex:1,overflow:"auto"},children:e.sortedJobs.map(t=>{var n;return(0,a.jsxs)("div",{className:$().jobItem,style:{background:(null===(n=e.currentJob)||void 0===n?void 0:n.id)===t.id?"#fff1":""},onClick:()=>e.select(t),children:[(0,a.jsx)("div",{className:$().title,children:t.title}),(0,a.jsx)(N,{axis:"y",size:6}),(0,a.jsxs)("div",{className:$().itemBottom,children:[(0,a.jsx)("div",{className:$().statusCircle,style:{background:{ready:"#aaa",running:"#ff0",stopped:"#14b869",archived:"#ec0000"}[t.status]}}),(0,a.jsx)("span",{className:$().date,children:J(t.createdTimestamp)})]})]},t.id)})}),(0,a.jsxs)(T,{open:i,children:[(0,a.jsx)(k,{text:"ジョブ新規作成"}),(0,a.jsx)(C,{content:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(B,{rows:8,value:r,onChange:l})})}),(0,a.jsx)(y,{okText:"新規作成",ok:c,cancel:()=>o(!1)})]})]})};var G=n(2729),M=n.n(G),X=()=>{var e,t;let[n,o]=(0,s.useState)(),[r,d]=(0,s.useState)(),u=(0,s.useMemo)(()=>null!==(e=null==n?void 0:n.tests.sort((e,t)=>t.createdTimestamp-e.createdTimestamp))&&void 0!==e?e:[],[n]),_=(0,s.useMemo)(()=>null!==(t=u.find(e=>e.id===r))&&void 0!==t?t:u[0],[r,u]),h=()=>l.jobs.$get().then(e=>o(t=>JSON.stringify(t)===JSON.stringify(e)?t:e)).catch(c.F);return((0,s.useEffect)(()=>{h();let e=window.setInterval(h,1e3);return()=>clearInterval(e)},[]),void 0===n)?(0,a.jsx)(i.g,{visible:!0}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{}),(0,a.jsx)("div",{className:M().main,children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:M().jobList,children:(0,a.jsx)(K,{sortedJobs:u,currentJob:_,select:e=>d(e.id)})})})})]})}},3377:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});let a=()=>null},5770:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});let a="TSUKUYOMI"},7112:function(e){e.exports={button:"buttons_button__pbUCN"}},3739:function(e){e.exports={container:"Loading_container__wV1ri",loader:"Loading_loader__cpdbt",load:"Loading_load__8NQtO"}},1961:function(e){e.exports={container:"modal_container__W1NFn",background:"modal_background__aJ2gF",card:"modal_card__h9WIR",modalHeader:"modal_modalHeader__87gSB",header:"modal_header__EHUVV",body:"modal_body__MI_Xu",footer:"modal_footer__1wUv0",warning:"modal_warning__jSakT"}},6236:function(e){e.exports={textarea:"textarea_textarea__36o0Z"}},2038:function(e){e.exports={container:"BasicHeader_container__ASIaK",main:"BasicHeader_main__Vqufr",logo:"BasicHeader_logo__AuY9n",result:"BasicHeader_result__rUZ6t"}},6328:function(e){e.exports={container:"jobList_container__qtUbZ",createBtn:"jobList_createBtn__WvccT",jobItem:"jobList_jobItem__i_AfL",title:"jobList_title__Kbfaa",itemBottom:"jobList_itemBottom__f2Llu",statusCircle:"jobList_statusCircle__gyaK7",modelLabel:"jobList_modelLabel__1_Ow1",date:"jobList_date__9CUJn"}},2729:function(e){e.exports={main:"index_main__OmNu0",strategyList:"index_strategyList__K9i61",jobList:"index_jobList__5o4_t"}}},function(e){e.O(0,[583,240,774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);